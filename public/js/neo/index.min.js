const Neo=function Neo(){let NEO_SYMBOLS_MAP="`1234567890-=qwertyuiop[]\\asdfghjkl;'zxcvbnm ,./~!@#$%^&*()_+QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?",NEO_BLUE_PRINTS=function e(){let t={};for(let r=0;r<NEO_SYMBOLS_MAP.length;r++){let i=NEO_SYMBOLS_MAP[r],n=NEO_SYMBOLS_MAP.slice(r),s=NEO_SYMBOLS_MAP.slice(0,r),a=n+s;t[i]=a}return t}(),NEO_TEXT_SYMBOL=Symbol.for("$NEOTEXTSYMBOL$"),NEO_LOAD_MAPS=[],NEO_NODE_MAPS={},NEO_THEME_MAP={COLORS:{WHITE:"254 254 254",LIGHT:"245 245 245",SHADE:"209 209 209",PRIME:"33 150 243",BLACK:"29 29 29",RED:{50:"254 242 242",100:"254 226 226",200:"254 202 202",300:"252 165 165",400:"248 113 113",500:"239 68 68",600:"220 38 38",700:"185 28 28",800:"153 27 27",900:"127 29 29",950:"69 10 10"},GRAY:{50:"249 250 251",100:"243 244 246",200:"229 231 235",300:"209 213 219",400:"156 163 175",500:"107 114 128",600:"75 85 99",700:"55 65 81",800:"31 41 55",900:"17 24 39",950:"3 7 18"},BLUE:{50:"239 246 255",100:"219 234 254",200:"191 219 254",300:"147 197 253",400:"96 165 250",500:"59 130 246",600:"37 99 235",700:"29 78 216",800:"30 64 175",900:"30 58 138",950:"23 37 84"},GREEN:{50:"240 253 244",100:"220 252 231",200:"187 247 208",300:"134 239 172",400:"74 222 128",500:"34 197 94",600:"22 163 74",700:"21 128 61",800:"22 101 52",900:"20 83 45",950:"5 46 22"},YELLOW:{50:"254 252 232",100:"254 249 195",200:"254 240 138",300:"253 224 71",400:"250 204 21",500:"234 179 8",600:"202 138 4",700:"161 98 7",800:"133 77 14",900:"113 63 18",950:"66 32 6"},PURPLE:{50:"250 245 255",100:"243 232 255",200:"233 213 255",300:"216 180 254",400:"192 132 252",500:"168 85 247",600:"147 51 234",700:"126 34 206",800:"107 33 168",900:"88 28 135",950:"59 7 100"}},SIZES:{XSMALL:"0.75rem",SMALL:"0.875rem",BASE:"1rem",MEDIUM:"1.125rem",LARGE:"1.25rem",XLARGE:"1.5rem"},LINES:{THIN:"0.75rem",XSMALL:"1rem",SMALL:"1.25rem",BASE:"1.5rem",MEDIUM:"1.75rem",LARGE:"1.75rem",XLARGE:"2rem"}},NEO_SVG_NODES={svg:!0,animate:!0,animateMotion:!0,animateTransform:!0,circle:!0,clipPath:!0,defs:!0,desc:!0,discard:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feFiberTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feDistantLight:!0,feDropShadow:!0,feFlood:!0,feFuncA:!0,feFuncB:!0,feFuncG:!0,feFuncR:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMergeNode:!0,feMorphology:!0,feOffset:!0,fePointLight:!0,feSpecularLighting:!0,feSpotLight:!0,feTile:!0,feTurbulence:!0,filter:!0,foreignObject:!0,g:!0,hatch:!0,hatchpath:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,metadata:!0,mpath:!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,script:!0,set:!0,stop:!0,style:!0,switch:!0,symbol:!0,text:!0,textPath:!0,title:!0,tspan:!0,use:!0,compiler:!0,animateColor:!0,"missing-glyph":!0,font:!0,"font-face":!0,"font-face-format":!0,"font-face-name":!0,"font-face-src":!0,"font-face-uri":!0,hkern:!0,vkern:!0,solidcolor:!0,altGlyph:!0,altGlyphDef:!0,altGlyphItem:!0,glyph:!0,glyphRef:!0,tref:!0,cursor:!0},NEO_CSS_PROPS={"animation-iteration-count":!0,"border-image-slice":!0,"border-image-width":!0,"column-count":!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-shrink":!0,"font-size-adjust":!0,"font-weight":!0,"line-height":!0,"nav-index":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,"pitch-range":!0,richness:!0,"speech-rate":!0,stress:!0,volume:!0,"lood-opacity":!0,"mask-box-outset":!0,"mask-border-outset":!0,"mask-box-width":!0,"mask-border-width":!0,"shape-image-threshold":!0},NEO_MOMENT_OBJ={$:{props:[["January","February","March","April","May","June","July","August","September","October","November","December"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],],zeros:function(e,t){for(var r=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return r+i},clean:function(e){var t=e.match(/^'([^]*?)'?$/);return t?t[1].replace(/''/g,"'"):e}},y(e,t){var r=e.getFullYear(),i=r>0?r:1-r;return NEO_MOMENT_OBJ.$.zeros("yy"===t?i%100:i,t.length)},m(e,t){var r=e.getMonth();switch(t){case"mmm":return Neo.Helper.trans(NEO_MOMENT_OBJ.$.props[0][r]).slice(0,3);case"mmmm":return Neo.Helper.trans(NEO_MOMENT_OBJ.$.props[0][r]);default:return NEO_MOMENT_OBJ.$.zeros(r+1,t.length)}},d(e,t){switch(t){case"ddd":return Neo.Helper.trans(NEO_MOMENT_OBJ.$.props[1][e.getDay()]).slice(0,3);case"dddd":return Neo.Helper.trans(NEO_MOMENT_OBJ.$.props[1][e.getDay()]);default:return NEO_MOMENT_OBJ.$.zeros(e.getDate(),t.length)}},A(e,t){var r=e.getHours()/12>=1?"pm":"am";switch(t){case"A":case"AA":return r.toUpperCase();case"AAA":return r;case"AAAAA":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>NEO_MOMENT_OBJ.$.zeros(e.getHours()%12||12,t.length),H:(e,t)=>NEO_MOMENT_OBJ.$.zeros(e.getHours(),t.length),M:(e,t)=>NEO_MOMENT_OBJ.$.zeros(e.getMinutes(),t.length),S:(e,t)=>NEO_MOMENT_OBJ.$.zeros(e.getSeconds(),t.length)};class Instance{constructor(e,t,r){this.dom=e,this.fiber=t,this.children=r}}class Fiber{constructor(e=null,t={}){this.type=e,this.props=t,this.props.children=this.props.children||[]}}class Parser{static{this.join=RegExp("\\$JOIN\\$\\d+\\$"),this.nbr=RegExp("\\d+"),this.compose=function e(t,r){return t.reduce((e,t,i)=>e+t+(i<r.length?["string","number","boolean"].includes(typeof r[i])?r[i]:"$JOIN$"+i+"$":""),"").trim()},this.parse=function e(t){let r=document.createElement("template");return r.innerHTML=t,r.content}}constructor(e,...t){this.source=e,this.props=t}attrs(e,t){if(e.attributes&&e.attributes.length)for(let r=0;r<e.attributes.length;r++){let i=Parser.join.test(e.attributes[r].nodeValue)?this.props[+e.attributes[r].nodeValue.match(Parser.nbr)]:e.attributes[r].nodeValue;t.props[e.attributes[r].nodeName]=i}}nodes(e,t){if(e&&e.length)for(let r=0;r<e.length;r++)3===e[r].nodeType?e[r].nodeValue.trim()&&t.props.children.push(new Fiber(NEO_TEXT_SYMBOL,{nodeValue:e[r].nodeValue.replace(/\s\s+|\n|\r\n/g,"")})):(t.props.children.push(new Fiber),this.tree(e[r],t.props.children[t.props.children.length-1]))}tree(e,t){t.type=e.nodeName.toLowerCase(),this.nodes(e.childNodes,t),this.attrs(e,t)}exec(){let e=Parser.compose(this.source,this.props),t=new Fiber;return this.tree(Parser.parse(e),t),t.props.children}}class Neo{static Wrapper=null;static Toaster=null;static Locales={fr:{January:"Janvier",February:"Fevrier",March:"Mars",April:"Avril",May:"Mai",June:"Juin",July:"Juillet",August:"Ao\xfbt",September:"Septembre",October:"Octobre",November:"Novembre",December:"Decembre",Sunday:"Dimanche",Monday:"Lundi",Tuesday:"Mardi",Wednesday:"Mercredi",Thursday:"Jeudi",Friday:"Vendredi",Saturday:"Samedi",Print:"Imprimer",Search:"Recherche",Columns:"Colonnes",Download:"Telecharger","No Data Found":"Aucune Donnee Disponible"},ar:{January:"يناير",February:"فبراير",March:"مارس",April:"أبريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر",Sunday:"الأحد",Monday:"الاثنين",Tuesday:"الثلاثاء",Wednesday:"الأربعاء",Thursday:"الخميس",Friday:"الجمعة",Saturday:"السبت",Print:"طباعة",Search:"بحث",Columns:"أعمدة",Download:"تحميل","No Data Found":"لا توجد بيانات"}};static load=function e(t){"function"==typeof t&&NEO_LOAD_MAPS.push(t)};static upgrade=function e(){Object.keys(NEO_NODE_MAPS).forEach(e=>{Array.from(document.querySelectorAll(e),e=>e.paint())})};static getComponent(e){return NEO_NODE_MAPS[e]}}return Neo.Helper=function e(){let t=function e(t,r){let i="";for(let n=0,s=0;n<t.length;n++)NEO_SYMBOLS_MAP.includes(t[n])?(i+=r[s%r.length],s++):i+=t[n];return i};class e{static secure=function t(r,i){return e.truty(r)?r:i};static random=function e(t=10){for(var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i=r.length,n="",s=0;s<t;s++)n+=r.charAt(Math.floor(Math.random()*i));return n};static option=function e(t,r){if(t&&r){for(let[i,n]of Object.entries(t))if(i.split(",").map(e=>e.trim()).includes(r))return n()}};static choice=function e(t,r=1){let i=t.slice().sort(()=>Math.random()-.5),n=i.slice(0,Math.min(r,t.length));return r>1?n:n[0]};static falsy=function e(t){return["false","null","undefined","0",""].includes(String(t).trim())};static truty=function t(r){return!e.falsy(r)};static trans=function e(t,r={}){var i=Neo.Locales[r["#locale"]||document.documentElement.lang||"en"];return(i&&i[t]||t).replace(/#([\w\d._-]+)/g,(e,t)=>r[t]||e)};static range=function e(t,r,i=1){let n=void 0===r?0:+t;r=void 0===r?+t:+r;let s=Math.ceil((r-n)/i);return Array.from({length:s},(e,t)=>n+t*i)};static style=function t(r){let i=[];for(let n in r){let s=e.Str.kebab(n);var a=r[n];e.truty(a)&&("number"!=typeof a||s in NEO_CSS_PROPS||(a+="px"),i.push(s+":"+a+";"))}return i.join("")};static when=function t(r,i,n){return e.truty(r)?"function"==typeof i?i(r):i:"function"==typeof n?n(r):n};static Theme=class e{static MEDIA=["","-o-","-ms-","-moz-","-webkit-"];static assign=function e(t,r,i){Object.keys(NEO_THEME_MAP).includes(t.toUpperCase())&&(NEO_THEME_MAP[t.toUpperCase()][r.toUpperCase()]=i)};static colors=function e(t,r,i){t=t.toUpperCase();let n="object"==typeof NEO_THEME_MAP.COLORS[t];return"rgb("+((n?NEO_THEME_MAP.COLORS[t][r]:NEO_THEME_MAP.COLORS[t])||NEO_THEME_MAP.COLORS.BLACK)+" / "+((n?i:r)||100)/100+")"};static sizes=function e(t){return NEO_THEME_MAP.SIZES[t.toUpperCase()]};static lines=function e(t){return NEO_THEME_MAP.LINES[t.toUpperCase()]};static layer=function e(){return Math.max(...[...document.querySelectorAll("body *")].reduce((e,t)=>("root"in t&&e.push(...t.root.querySelectorAll("*")),e.push(t),e),[]).map(e=>parseFloat(window.getComputedStyle(e).zIndex)).filter(e=>!Number.isNaN(e)),0)+1}};static Cipher=class e{static encrypt=function e(r,i){for(let n=0;n<i.length;n++){let s=t(r,i),a="";for(let o=0;o<s.length;o++)a+=NEO_SYMBOLS_MAP.includes(r[o])?NEO_BLUE_PRINTS[s[o]][NEO_SYMBOLS_MAP.indexOf(r[o])]:r[o];r=a}return r};static decrypt=function e(r,i){for(let n=0;n<i.length;n++){let s=t(r,i),a="";for(let o=0;o<s.length;o++)a+=NEO_SYMBOLS_MAP.includes(r[o])?NEO_SYMBOLS_MAP[NEO_BLUE_PRINTS[s[o]].indexOf(r[o])]:r[o];r=a}return r}};static Str=class e{static moment=function e(t,r="yyyy-mm-dd"){if("string"!=typeof t)return null;let i=r.match(/(\w)\1*|''|'(''|[^'])+('|$)|./g);return t=new Date(t),i?i.map(function(e){if("''"===e)return"'";var r=e[0];if("'"===r)return NEO_MOMENT_OBJ.$.clean(e);var i=NEO_MOMENT_OBJ[r];return i?i(t,e):e}).join(""):null};static kebab=function e(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").split(/[-_.\\\/\s]/g).join("-").toLowerCase()};static snake=function e(t){return t.replace(/[-_.\\\/\s](\w+)/g,(e,t)=>t[0].toUpperCase()+t.slice(1).toLowerCase())};static money=function e(t,r=2){return t.toLocaleString("en-US",{minimumFractionDigits:Math.max(r,(t.toString().split(".")[1]||"").length)})};static compact=function e(t=0,r=0){return new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",minimumFractionDigits:Math.max(r,(t.toString().split(".")[1]||"").length)}).format(t)};static capitalize=function e(t){return t&&"string"==typeof t?t.trim().charAt(0).toUpperCase()+t.slice(1):""}}}return e}(),Neo.Sketch=function e(){class e{constructor(e,t,r={}){this.source=e.replace(/\n.*?(\(\$)-/g,"$1").replace(/-(\$\)).*?\n/g,"$1").replace(/\n.*?(\{\{)-/g,"$1").replace(/-(}\}).*?\n/g,"$1"),this.helpers={...r,...Neo.Helper},this.context=t}build(e){return Function("",e)()(this.context,this.helpers,function e(t,r){if(null===t)return t;let i=0;for(let n in t)r(n,t[n],{index:i,round:i+1,odd:i%2>0,even:i%2==0,first:0===i,last:i+1===Object.keys(t).length}),i++},function e(t){try{return Object.keys(t).length}catch(r){return null}},function e(t){let r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return t.replace(/[&<>"']/g,e=>r[e]||e)},Error)}str(){let t=this.build(e.test(this.source)?this.source:e.compile(this.source));return t.shift().reduce((e,r,i)=>e+r+(["string","number","boolean"].includes(typeof t[i])?t[i]:""),"").trim()}exec(){return new Parser(...this.build(e.test(this.source)?this.source:e.compile(this.source))).exec()}}return e.delemiters=[/\{\$/,/\$\}/],e.variables=[/\{\{/,/\}\}/],e.helpers=RegExp("(?<![\"'`])@+(\\w+)(?![\"'`])","g"),e.chained=RegExp("([.]+[\\w\\d-_]+)(?=(?:[^'\"`]|[\"'`][^'\"`]*[\"'`])*$)","g"),e.parseed=RegExp("("+e.delemiters[0].source+".*?"+e.delemiters[1].source+"|"+e.variables[0].source+".*?"+e.variables[1].source+"|"+e.variables[0].source+"|"+e.delemiters[0].source+")"),e.isLogic=RegExp("^"+e.delemiters[0].source),e.isVariable=RegExp("^"+e.variables[0].source),e.fullToken=RegExp("^"+e.delemiters[0].source+"\\s*(\\w+)\\s*(.*)?"+e.delemiters[1].source+"$"),e.contentOfVariable=RegExp("^"+e.variables[0].source+"(.*)"+e.variables[1].source+"$"),e.loop=function e(t){var r=/\[(.*),(.*)\]/g.exec(t[0]),i=t[1].trim(),n=t[0].trim(),s="_";return[i,r?r[1].trim():s,r?r[2].trim():n]},e.logic=function t(r){return({make:e=>"var "+e+";",code:e=>e+";",until:e=>"while(!("+e+")){",enduntil:()=>"}",while:e=>"while("+e+"){",endwhile:()=>"}",unless:e=>"if(!("+e+")){",endunless:()=>"}",each(t){var[r,i,n]=e.loop(t.split(/into|INTO/));return"$EACH$("+r+",function("+i+","+n+",$LOOP$){"},endeach:()=>"});",forelse(t){var[r,i,n]=e.loop(t.split(/into|INTO/));return"if($SIZE$("+r+")){$EACH$("+r+",function("+i+","+n+",$LOOP$){"},empty:()=>"})}else{",endforelse:()=>"}",if:e=>"if("+e+"){",elif:e=>"}else if("+e+"){",else:()=>"}else{",endif:()=>"}",try:()=>"try{",catch:e=>"}catch("+e+"){",finally:()=>"}finally{",endtry:()=>"}",info:e=>"console['trace']("+e+");",warn:e=>"console['warn']("+e+");",error:e=>"console['error']("+e+");"})[r.toLowerCase()]},e.regex=function t(r){return r.replace(e.helpers,(e,t)=>"loop"===t?"$LOOP$":"$HELPER$."+t).replace(e.chained,e=>'["'+e.substring(1)+'"]')},e.tokens=function t(r){if(0===(r=String(r)).length)return[];let t=r.split(e.parseed).filter(e=>e.length>0),i=1,n=1;return t.map(e=>{let t={value:e,col:n,line:i},r=e.lastIndexOf("\n");if(r<0)n+=e.length;else{let s=e.split("\n").length-1;i+=s,n=e.length-r}return t})},e.parse=function t(r){if(0===r.length)return"";let i={macro:!1};return r.reduce((t,r)=>{try{return t+"$LINE$="+r.line+";$COL$="+r.col+";"+e.token(r,i)}catch(n){throw e.error(n,r)}},"")},e.token=function t(t,r){if(e.isLogic.test(t.value)){let i=e.fullToken.exec(t.value);return["macro","endmacro"].includes(i[1].toLowerCase())?(r.macro="macro"===i[1].toLowerCase(),""):e.logic(i[1].toLowerCase())(i[2]&&e.regex(i[2].trim()))}if(e.isVariable.test(t.value)){let n=e.contentOfVariable.exec(t.value),s=null!=n?n[1]:void 0;return"$ADDJSX$("+(">"===s[0]?"$ESCAPE$("+e.regex(s.substring(1).trim())+")":e.regex(s.trim()))+");"}if(0!==t.value.length)return r.macro?t.value.replace(/(\n\r+|\n\s+|\r+|\n+)/g," "):'$ADDTXT$("'+t.value.replace(/(`|'|")/g,"\\$1")+'");'},e.compile=function t(r){return r=e.tokens(r),"return function($CONTEXT$,$HELPER$,$EACH$,$SIZE$,$ESCAPE$,$ERROR$){var $TXT$=[],$JSX$=[],$INDEX$=0,$LINE$=0,$COL$=0;function $ADDTXT$($LINE$){if(!$TXT$[$INDEX$]){$TXT$[$INDEX$]=''}$TXT$[$INDEX$]=($TXT$[$INDEX$]+$LINE$).replace(/\\n(:?\\s*\\n)+/g,'\\n')}function $ADDJSX$($LINE$){$JSX$[$INDEX$]=$LINE$,$INDEX$++}with($CONTEXT$||{}){try{"+(r=(r=e.parse(r)).replace(/(\n|\n\s+)/g,"\\n"))+"}catch(e){throw new $ERROR$([e.message,'\\n\\tat','Line:','\"'+$LINE$+'\"','Col:','\"'+$COL$+'\"'].join(' '))}}return [$TXT$,...$JSX$]}"},e.test=function e(t){return t.startsWith("return function($CONTEXT$,$HELPER$,$EACH$,$SIZE$,$ESCAPE$,$ERROR$){var $TXT$=[],$JSX$=[],$INDEX$=0,$LINE$=0,$COL$=0;function $ADDTXT$($LINE$){if(!$TXT$[$INDEX$]){$TXT$[$INDEX$]=''}$TXT$[$INDEX$]=($TXT$[$INDEX$]+$LINE$).replace(/\\n(:?\\s*\\n)+/g,'\\n')}function $ADDJSX$($LINE$){$JSX$[$INDEX$]=$LINE$,$INDEX$++}")},e.error=function e(t,r){t.message=t.message+"\n    at "+r.value+" ("+r.line+":"+r.col+")",t.location||(t.location={col:r.col,line:r.line})},e}(),Neo.Driver=function Driver(){class Driver{constructor(e,t,r={}){this.container=e,this.instance=null,this.refs=r,this.tree=t}create(e){let{type:t,props:r}=e,i=t===NEO_TEXT_SYMBOL?document.createTextNode(""):t in NEO_SVG_NODES?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t),n=this.children({dom:i},e);return Driver.properties(i,{},r,this.refs),new Instance(i,e,n)}reconcile(e,t,r){var i;return null==t?(Array.isArray(r)?(i=r.map(e=>this.create(e))).forEach(t=>{e.appendChild(t.dom)}):Array.isArray((i=this.create(r)).dom)?Driver.flatten(i.dom).forEach(t=>{e.appendChild(t)}):i.dom&&e.appendChild(i.dom),i):null==r?(Array.isArray(t)?t.forEach(t=>{e.removeChild(t.dom)}):t.dom&&e.removeChild(t.dom),null):Array.isArray(t)&&Array.isArray(r)?this.children({dom:e,children:t},{props:{children:r}}):(t.fiber||{}).type!==r.type?(i=this.create(r),(t.dom||t[0].dom)&&e.replaceChild(i.dom,t.dom||t[0].dom),i):"string"==typeof r.type||r.type===NEO_TEXT_SYMBOL?(t.children=this.children(t,r),Driver.properties(t.dom,t.fiber.props,r.props,this.refs),t.fiber=r,t):void 0}children(e,t){let r=(e.children||[]).filter(e=>null!=e),i=(t.props.children||[]).filter(e=>null!=e),n=Math.max(r.length,i.length),s=[];for(var a=0;a<n;a++){let o=this.reconcile(e.dom,r[a],i[a]);s.push(o)}return s}exec(e){for(let t in this.tree=e||this.tree,this.refs)delete this.refs[t];this.instance=this.reconcile(this.container,this.instance,this.tree)}}return Driver.flatten=function e(t){return t.reduce((e,t)=>[...e,...Array.isArray(t)?Driver.flatten(t):[t]],[])},Driver.properties=function e(t,r,i,n){Driver.properties.clear(t,r,i),Driver.properties.apply(t,i,n)},Driver.object=function e(t,r,i){let n=r.split("."),s=n.pop(),e=n.reduce((e,t)=>e[t],t);e[s]=i},Driver.reference=function e(t,r,i){i[r]?Array.isArray(i[r])?i[r].push(t):i[r]=[i[r],t]:i[r]=t},Driver.properties.clear=function e(t,r,i){for(var n in Driver.listeners.clear(t,i),r)if(!(n in i)){let s=t&&t.tagName&&t.tagName.toLowerCase(),a=n.split(".").length>1,o=s in NEO_SVG_NODES,c=n in t;c&&!o?t[n]="":a?this.applyObject(t,{[n]:""},n):t.removeAttribute(n)}},Driver.properties.apply=function apply(node,next,refs){for(var prop in next){if("children"===prop)continue;let tag=node&&node.tagName&&node.tagName.toLowerCase(),isObj=prop.split(".").length>1,isSvg=tag in NEO_SVG_NODES,isEvent=prop.startsWith("@"),isRef="ref"===prop,isProp=prop in node;isEvent?Driver.listeners.apply(node,prop,next[prop]):isProp&&!isSvg?node[prop]=["false","true"].includes(next[prop])?eval(next[prop]):next[prop]:isObj?Driver.object(node,prop,next[prop]):isRef?Driver.reference(node,next[prop],refs):node.setAttribute(prop,next[prop])}},Driver.listeners=function e(){},Driver.listeners.clear=function e(t,r){for(let i in t.listeners)if(!(i in r)){let n=i.split(":"),s=n[0].substring(1);t["on"+s]=null,delete t.listeners[i]}},Driver.listeners.apply=function e(t,r,i){let n=r.split(":"),s=n.shift().substring(1);t.listeners=t.listeners||{},(!t.listeners[r]||t.listeners[r]&&t.listeners[r].toString()!==i.toString())&&(t.listeners[r]=i,t["on"+s]=e=>{(n[0]||"").split("|").forEach(t=>{switch(t){case"prevent":e.preventDefault();case"propagation":e.stopPropagation();case"immediate":e.stopImmediatePropagation()}}),i(e)})},Driver}(),Neo.Segment=function e(){class e{constructor(e,t,r={}){this.sketch=new Neo.Sketch(t,r,{this:this}),this.driver=new Neo.Driver(e,[]),this.upgrade()}setContext(e){var t={...this.sketch.context},r=!1;Object.entries(e).forEach(([e,i])=>{t[e]!==i&&(t[e]=i,r=!0)}),r&&(this.sketch.context=t,this.upgrade())}upgrade(){e.build(this.driver,this.sketch)}get context(){return this.sketch.context}}return e.build=function e(t,r){t.exec(r.exec())},e}(),Neo.Component=function e(){function e(e){let t=e.tag||"",r=e.ctl||!1,i=Neo.Sketch.test(e.tpl||"")?e.tpl:Neo.Sketch.compile(e.tpl||""),n=Neo.Sketch.test(e.css||"")?e.css:Neo.Sketch.compile("<style>"+(e.css||"")+"</style>");return function(e){let{attrs:s=[],dense:a={},props:o={},rules:c={},state:l={},cycle:u={}}=e;return class extends HTMLElement{static{Object.entries(a).forEach(([e,t])=>{this[e]=t}),r&&(this.formAssociated=!0),this.observedAttributes=s,this.selector=t,this.define=function e(t){return t=t||this.selector,customElements.get(t)||(NEO_NODE_MAPS[t]=this,customElements.define(t,this)),this}}cache={drive:null,props:{},state:{}};cycle={created(){},mounted(){},adopted(){},updated(){},removed(){},painted(){}};props={};state={};rules={};refs={};constructor(){super(),this.root=this.attachShadow({mode:"open"}),r&&(this.ctl=this.attachInternals(),Object.defineProperties(this,{form:{get:()=>this.ctl.form},name:{get:()=>this.getAttribute("name")},validity:{get:()=>this.ctl.validity},willValidate:{get:()=>this.ctl.willValidate},validationMessage:{get:()=>this.ctl.validationMessage}}),this.checkValidity=()=>this.ctl.checkValidity(),this.reportValidity=()=>this.ctl.reportValidity()),this.launch(),this.paint(),this.cycle.created(),this.emit("created")}attributeChangedCallback(e,t,r){this.cycle.updated(e,t,r,"attrs")}connectedCallback(){Object.keys(o).forEach(e=>{let t=Neo.Helper.Str.kebab(e),r=this.cache.props[e]!==o[e]?this.cache.props[e]:o[e];s.includes(t)&&(r?this.getAttribute(t)!==String(r)&&this.setAttribute(t,r):this.removeAttribute(t))}),this.cycle.mounted(),this.emit("mounted")}disconnectedCallback(){this.cycle.removed(),this.emit("removed")}adoptedCallback(){this.cycle.adopted(),this.emit("adopted")}launch(){let e=(e,t)=>{let r=this.cache.props[e];if(r===t)return;this.cache.props[e]=t;let i=Neo.Helper.Str.kebab(e);s.includes(i)&&(t?this.getAttribute(i)!==String(t)&&this.setAttribute(i,t):this.removeAttribute(i)),this.paint(),this.cycle.updated(e,r,t,"props"),this.emit("updated",{name:e,type:"props",prev:r,next:t})};Object.keys(o).forEach(t=>{this.cache.props[t]=o[t],Object.defineProperty(this.props,t,{set(r){e(t,r)},get:()=>this.cache.props[t]}),Object.defineProperty(this,t,{set(r){e(t,r)},get:()=>this.cache.props[t]})}),Object.keys(l).forEach(e=>{this.cache.state[e]=l[e],Object.defineProperty(this.state,e,{set:t=>{let r=this.cache.state[e];r!==t&&(this.cache.state[e]=t,this.paint(),this.cycle.updated(e,r,t,"state"),this.emit("updated",{name:e,type:"state",prev:r,next:t}))},get:()=>this.cache.state[e]})}),Object.keys(c).forEach(e=>{"function"==typeof c[e]&&(this.rules[e]=c[e].bind(this))}),Object.keys(u).forEach(e=>{"function"==typeof u[e]&&(this.cycle[e]=u[e].bind(this))})}paint(){let e={props:this.cache.props,state:this.cache.state,rules:this.rules,refs:this.refs,this:this},t=new Neo.Sketch(n,e,e),r=new Neo.Sketch(i,e,e),s=[...t.exec(),...r.exec()];this.cache.drive||(this.cache.drive=new Neo.Driver(this.root,[],this.refs)),this.cache.drive.exec(s),this.cycle.painted(),this.emit("painted")}emit(e,t,r){let i=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,isTrusted:!0,detail:t});this.dispatchEvent(i),!i.defaultPrevented&&r&&r.bind(this)(i)}setProps(e={}){var t=!1,r={};Object.entries(e).forEach(([e,i])=>{if(this.cache.props[e]===i)return;r[e]=this.cache.props[e],this.cache.props[e]=i;let n=Neo.Helper.Str.kebab(e);s.includes(n)&&(i?this.getAttribute(n)!==String(i)&&this.setAttribute(n,i):this.removeAttribute(n)),t=!0}),t&&(this.paint(),Object.keys(r).forEach(t=>{this.cycle.updated(t,r[t],e[t],"props")}))}setState(e={}){var t=!1,r={};Object.entries(e).forEach(([e,i])=>{this.cache.state[e]!==i&&(r[e]=this.cache.state[e],this.cache.state[e]=i,t=!0)}),t&&(this.paint(),Object.keys(r).forEach(t=>{this.cycle.updated(t,r[t],e[t],"state")}))}}}}return e}(),document.addEventListener("DOMContentLoaded",e=>{NEO_LOAD_MAPS.forEach(t=>t(e))}),Neo}();